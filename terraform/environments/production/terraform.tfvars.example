# =============================================================================
# CodInspect - Production Terraform Variables
# =============================================================================
# Copy this file to terraform.tfvars and fill in the values.
# NEVER commit terraform.tfvars to source control!
#
# Alternatively, set values via environment variables:
#   export TF_VAR_cloudflare_api_token="your-token"
# =============================================================================

# =============================================================================
# Provider Authentication
# =============================================================================

# Cloudflare API token with Workers, KV, and R2 permissions
# Create at: https://dash.cloudflare.com/profile/api-tokens
cloudflare_api_token = ""

# Cloudflare account ID (found in dashboard URL or account overview)
cloudflare_account_id = ""

# Cloudflare zone ID (optional, only needed for custom domains)
# cloudflare_zone_id = ""

# Cloudflare Workers subdomain (found in Workers & Pages -> Overview, bottom-right of panel)
# This is the subdomain used for workers.dev URLs (e.g., "myaccount" in "worker.myaccount.workers.dev")
cloudflare_worker_subdomain = ""

# Vercel API token
# Create at: https://vercel.com/account/tokens
vercel_api_token = ""

# Vercel team/account ID (found in Account Settings -> "Your ID")
# Even personal accounts have an ID (usually starts with "team_")
vercel_team_id = ""  # e.g., "team_xxxxxxxxxxxxxxxxxxxx"

# Modal API token
# Create at: https://modal.com/settings
modal_token_id = ""
modal_token_secret = ""

# Modal workspace name (used in endpoint URLs)
# This is your Modal username/workspace (e.g., "myworkspace" in "https://myworkspace--app.modal.run")
modal_workspace = ""

# =============================================================================
# GitHub App Credentials
# =============================================================================
# Create GitHub App at: https://github.com/settings/apps
#
# One GitHub App handles both OAuth (user authentication) and repository access.
# See docs/GETTING_STARTED.md for detailed setup instructions.
#
# Required credentials:
# - Client ID and Secret: Found in the GitHub App settings page
# - App ID: Shown at top of the GitHub App settings page
# - Private Key: Generate and download from GitHub App settings, convert to PKCS#8
# - Installation ID: Found in URL after installing the app on your account/org

# OAuth credentials (from GitHub App -> "Client secrets" section)
github_client_id = ""      # e.g., "Iv1.abc123..."
github_client_secret = ""

# App credentials
github_app_id = ""

# Private key in PKCS#8 format
# Convert from PKCS#1: openssl pkcs8 -topk8 -inform PEM -outform PEM -nocrypt -in key.pem -out key-pkcs8.pem
github_app_private_key = <<-EOF
-----BEGIN PRIVATE KEY-----
... your private key here ...
-----END PRIVATE KEY-----
EOF

github_app_installation_id = ""

# =============================================================================
# Slack App Credentials (Optional)
# =============================================================================
# From Slack App dashboard: https://api.slack.com/apps
# Leave empty to disable Slack integration.

slack_bot_token = ""       # e.g., "xoxb-..."
slack_signing_secret = ""

# =============================================================================
# API Keys
# =============================================================================

# Anthropic API key for Claude
# From: https://console.anthropic.com/
anthropic_api_key = ""

# =============================================================================
# Security Secrets
# =============================================================================
# Generate these with: openssl rand -base64 32

# Token encryption key (for encrypting OAuth tokens)
token_encryption_key = ""

# Internal callback secret (shared between services)
internal_callback_secret = ""

# Modal API secret (for control plane -> Modal authentication)
# Generate with: openssl rand -hex 32
modal_api_secret = ""

# NextAuth.js secret
nextauth_secret = ""

# =============================================================================
# Configuration
# =============================================================================

# Unique deployment name (used in resource names and URLs)
# IMPORTANT: This must be globally unique for Vercel URLs.
# Use something unique like your GitHub username, company name, or a random suffix.
# Example: "acme", "johndoe", "mycompany-prod"
# The web app URL will be: https://CodInspect-{deployment_name}.vercel.app
deployment_name = ""

# Path to project root (relative to this directory)
project_root = "../../../"

# =============================================================================
# Initial Deployment Flags
# =============================================================================
# For first-time deployment, set both to false to avoid chicken-and-egg issues
# with Durable Objects and service bindings.
# After the first successful deployment, set both to true and run terraform apply again.

enable_durable_object_bindings = false
enable_service_bindings = false

# =============================================================================
# Access Control
# =============================================================================
# Comma-separated list of GitHub usernames allowed to sign in
# Leave empty to allow all GitHub users
allowed_users = ""

# Comma-separated list of email domains allowed to sign in
# Leave empty to allow all email domains
# Example: "example.com,corp.io"
allowed_email_domains = ""
